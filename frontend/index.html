<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>工作小工具集</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex flex-col items-center min-h-screen p-8 space-y-6">
  <h1 class="text-3xl font-bold">我的工作小工具</h1>

  <!-- ====== 合并发票 & 截图 2025-08-05，工具1====== -->
  <div class="w-full max-w-lg bg-white shadow rounded-2xl p-6 space-y-4">
    <h2 class="text-2xl font-semibold">工具1：合并发票和截图</h2>

    <label class="block text-sm font-medium text-gray-700">
      选择包含「<em>发票与支付截图</em>」的文件夹：
    </label>
    <input id="merge-files"
           type="file"
           webkitdirectory
           directory
           multiple
           class="block w-full text-sm text-gray-500
                  file:mr-4 file:py-2 file:px-4
                  file:rounded-full file:border-0
                  file:text-sm file:font-semibold
                  file:bg-indigo-50 file:text-indigo-700
                  hover:file:bg-indigo-100"/>

    <button id="btn-merge"
            class="w-full px-4 py-2 bg-indigo-600 text-white rounded-lg">
      上传并合并
    </button>

    <!-- 上传进度条 -->
    <div id="upload-wrapper" class="w-full mt-4 h-2 bg-gray-200 rounded hidden">
      <div id="upload-bar" class="h-full bg-indigo-600 rounded" style="width:0%"></div>
    </div>

    <!-- 合并中指示 -->
    <div id="merging-spinner"
         class="w-full mt-4 hidden flex items-center space-x-2">
      <svg class="animate-spin h-5 w-5 text-indigo-600"
           xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10"
                stroke="currentColor" stroke-width="4"/>
        <path class="opacity-75" fill="currentColor"
              d="M4 12a8 8 0 018-8v8H4z"/>
      </svg>
      <span class="text-indigo-600">合并中，请稍候…</span>
    </div>

    <p id="merge-status" class="text-sm text-gray-600"></p>
  </div>

  <!-- ====== 发票信息提取 2025-08-05，工具2====== -->
  <div class="w-full max-w-lg bg-white shadow rounded-2xl p-6 space-y-4">
    <h2 class="text-2xl font-semibold">工具2：发票信息提取</h2>

    <label class="block text-sm font-medium text-gray-700">
      选择包含多份发票 PDF 的文件夹：
    </label>
    <input id="extract-files"
          type="file"
          webkitdirectory directory multiple
          class="block w-full text-sm text-gray-500
                  file:mr-4 file:py-2 file:px-4
                  file:rounded-full file:border-0
                  file:text-sm file:font-semibold
                  file:bg-indigo-50 file:text-indigo-700
                  hover:file:bg-indigo-100"/>

    <button id="btn-extract"
            class="w-full px-4 py-2 bg-green-600 text-white rounded-lg">
      上传并提取
    </button>

    <div id="extract-progress" class="w-full mt-4 h-2 bg-gray-200 rounded hidden">
      <div id="extract-bar" class="h-full bg-green-600 rounded" style="width:0%"></div>
    </div>

    <div id="extract-spinner" class="w-full mt-4 hidden flex items-center space-x-2">
      <svg class="animate-spin h-5 w-5 text-green-600"
          xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10"
                stroke="currentColor" stroke-width="4"/>
        <path class="opacity-75" fill="currentColor"
              d="M4 12a8 8 0 018-8v8H4z"/>
      </svg>
      <span class="text-green-600">提取中，请稍候…</span>
    </div>

    <p id="extract-status" class="text-sm text-gray-600"></p>
  </div>

  <!-- ====== 招标爬虫，工具3 ====== -->
  <div class="w-full max-w-lg bg-white shadow rounded-2xl p-6 space-y-4">
    <h2 class="text-2xl font-semibold">工具3：招标爬虫</h2>

    <label class="block text-sm font-medium text-gray-700">类型代码（equal）：</label>
    <input id="spider-equal"
           type="text"
           value="002001009"
           class="w-full border rounded p-2 text-sm"/>

    <div class="grid grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-medium text-gray-700">开始日期</label>
        <input id="spider-start" type="date" class="w-full border rounded p-2 text-sm"/>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">结束日期</label>
        <input id="spider-end" type="date" class="w-full border rounded p-2 text-sm"/>
      </div>
    </div>

    <label class="block text-sm font-medium text-gray-700">输出格式</label>
    <select id="spider-format" class="w-full border rounded p-2 text-sm">
      <option value="csv">CSV</option>
      <option value="json">JSON</option>
    </select>

    <button id="btn-spider" class="w-full px-4 py-2 bg-blue-600 text-white rounded-lg">
      开始爬取
    </button>

    <div id="spider-spinner" class="w-full mt-4 hidden flex items-center space-x-2">
      <svg class="animate-spin h-5 w-5 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"/>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8H4z"/>
      </svg>
      <span class="text-blue-600">爬取中，请稍候…</span>
    </div>

    <p id="spider-status" class="text-sm text-gray-600"></p>
  </div>

  <script src="static/js/main.js"></script>
</body>
</html>
